<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ActiveRecord-Tutorial</title>
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/main.css">
</head>
<body>
<div class="container">
	<h1>Bienvenido al tutorial de ActiveRecord</h1>
</div>

<div class="container-fluid">
	<div class="panel-group" id="tutorial">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title color1 ">
					<a data-toggle="collapse" data-parent="tutorial" href="#introduccion">INTRODUCCION Y REQUISITOS<span class="glyphicon glyphicon-triangle-bottom pull-right" aria-hidden="true"></span></a>
				</h3>
			</div>
			<div id="introduccion" class="panel-collapse collapse in">
				<div class="panel-body">
					<div class="container">
						<div class="form-group row">
							<div class="col-lg-2">
								<img src="images/ruby.png" alt="" class="img-responsive">
							</div>
							<div class="form-group ">
							<h3>Introducción</h3>
								<p>
									Active Record es la M en MVC - el modelo - el cual es la capa del sistema responsable de representar los datos y la lógica de negocio para manipularlos. Active Record facilita la creación y manipulación de objetos de negocio quienes requieren ser almacenados persistentemente en una base de datos. Esta es una implementación del patrón de Active Record el cual en si mismo es una descripción de un sistema de Mapeo de Objetos Relacionales.
								</p>
							</div>
						</div>
					</div>
					<div class="container">
						<div class="form-group row">
							<div class="form-group col-lg-10">
								<h3>Requisitos</h3>
								<ul>
									<li>Un PC con una distribución de Linux o una maquina virtual como <a href="https://c9.io">C9.io</a></li>
									<li>Conocimiento básico de Ruby on Rails</li>
									<li>Muchas ganas <span class="glyphicon glyphicon-fire red"></span></li>
								</ul>
							</div>
							<div class="col-lg-2">
								<img src="images/linux.png" alt="" class="img-responsive">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title color1 ">
					<a data-toggle="collapse" data-parent="tutorial" href="#inicio">INICIEMOS:<span class="glyphicon glyphicon-triangle-bottom pull-right" aria-hidden="true"></span></a>
				</h3>
			</div>
			<div id="inicio" class="panel-colapse collapse">
				<div class="panel-body">
					<div class="container">
						<p>Para empezar vamos a crear un proyecto en rails con el nombre ‘Ejm’:</p>
						<div class="text-primary col-lg-offset-1">
							<dd>$ rails new Ejm</dd>
						</div>
						<br>
						<p>Ahora generemos unas cuantas entidades para verificar el tipo de variables que admiten, visualizar que métodos crea y como vincula los modelos:</p>
						<div class="text-primary col-lg-offset-1">
							<dd>$ rails generate scaffold Article code_bar:integer name:string price:integer stock:integer weight:integer color:string description:string </dd>
							<dd>$ rails generate scaffold Client name:string phone:integer address:string city:string </dd>
							<dd>$ rails generate scaffold Employee name:string birthday:date</dd>
						</div>
						<p>Tambien estan disponibles estos tipos de variables:</p>
						<li>binary</li>
						<li>boolean</li>
						<li>datetime</li>
						<li>decimal</li>
						<li>float</li>
						<li>integer</li>
						<li>primary_key</li>
						<li>text</li>
						<li>time</li>
						<li>timestamp</li>
					</div>
					<div class="container">
						<div class="panel-group" id="scaffoldTotal">
							<div class="panel panel-default">
								<div class="panel-heading">
									<h4 class="panel-title color1">
										<a href="#scaffold" data-toggle="collapse" data-parent="#scaffoldTotal">En este espacio podrás ver el resultado de las anteriores líneas si se desarrollaron correctamente <span class="glyphicon glyphicon-collapse-down pull-right" aria-hidden="true"></span>
										</a>
									</h4>
								</div>
								<div id="scaffold" class=" panel-collapse collapse">
									<div class="panel-body">
										<div class="">
											Scaffold:
											<img src="images/Scaffold.jpg" alt="" class="img-responsive">
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title color1 ">
					<a data-toggle="collapse" data-parent="tutorial" href="#consultas">CONSULTAS: <span class="glyphicon glyphicon-triangle-bottom pull-right" aria-hidden="true"></span></a>
				</h3>
			</div>
		</div>
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title color1 ">
					<a data-toggle="collapse" data-parent="tutorial" href="#validaciones">VALIDACIONES: <span class="glyphicon glyphicon-triangle-bottom pull-right" aria-hidden="true"></span></a>
				</h3>
			</div>
			<div class="panel-collapse collapse" id="validaciones">
				<div class="panel-body">
					<div class="container">
						<p> La validación es una tarea muy importante a considerar cuando se guardan datos en una base de datos, entonces los métodos save y update toman esto en cuenta cuando se ejecutan: ellos retornan false cuando una validación falla y no mantuvieron ninguna operación en la base de datos</p>
						<p>Intentemos con los modelos como los tenemos crear un objeto en Client sin parámetros de validación:</p>
						<div class="text-primary col-lg-offset-1">
							<dd>$ Client.create(name:"", phone:1234567, address:"cra 68 # 26-50", city:"Bogotá")</dd>
						</div>
						<br>
					</div>
					<div class="container">
						<div id="addClienteNV" class="panel-group">
							<div class="panel panel-default">
								<div class="panel-heading">
									<h4 class="panel-title color1">
										<a data-toggle="collapse" data-parent="#addClienteNV" href="#addClienteNV1">El resultado seria:<span class="glyphicon glyphicon-collapse-down pull-right" aria-hidden="true"></span>
										</a>
									</h4>
								</div>
								<div class="panel-collapse collapse" id="addClienteNV1">
									<div class="panel-body">
										<div class="">
											<img src="images/CrearClienteSV.png" alt="" class="img-responsive">
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="container">
						<p>A continuación Creamos validaciones para el modelo Client:</p>
						<div class="text-primary col-lg-offset-1">
							<dd>$ class Client < ApplicationRecord
	validates :name, presence: true, length: { minimum: 2 } <kbd> el campo name es obligatorio y la longitud debe ser mínimo 2 caracteres</kbd> 
							</dd>
							<dd>$ validates :phone, numericality: true, length: {in: 7..11}, uniqueness: true
							<kbd>es numérico y único, además la longitud debe ser entre 7 y 11</kbd>
							</dd>
							<dd>
								$ validates :address, presence: true
								<kbd>el campo es obligatorio</kbd>
							</dd>
							<dd>
								$ validates :city, format: { with: /\A[a-zA-Z]+\z/, message: "only allows letters" }
								<kbd>solo cadenas a-z, A-Z</kbd>
							</dd>
						</div>
						<br>
						<p>Tenga en cuenta que esto se hace en el directorio donde esta declarada la clase Cliente y que hereda de ApplicationRecord</p>
						<br>
						<p>Ahora mostraremos la validación de un registro sin campos correctos:</p>
						<img src="images/validarAll.png" alt="" class="img-responsive">
						<br>
						<p>Mostraremos el esperado del directorio modificado para validar y algunos errores al intentar validar cada variable.</p>
						<div class="container">
						<div id="validacionesAll" class="panel-group">
							<div class="panel panel-default">
								<div class="panel-heading">
									<h4 class="panel-title color1">
										<a data-toggle="collapse" data-parent="#validacionesAll" href="#validarDir">Directorio client.rb modificado<span class="glyphicon glyphicon-collapse-down pull-right" aria-hidden="true"></span></a>
									</h4>
								</div>
									<div class="panel-collapse collapse" id="validarDir">
									<div class="panel-body">
										<div class="">
											<img src="images/configValidacion.png" alt="" class="img-responsive">
										</div>
									</div>
								</div>
							</div>
							<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title color1">
									<a data-toggle="collapse" data-parent="#validacionesAll" href="#validar1">Validando regla validates :name, presence: true<span class="glyphicon glyphicon-collapse-down pull-right" aria-hidden="true"></span></a>
								</h4>
							</div>
							<div class="panel-collapse collapse" id="validar1">
								<div class="panel-body">
									<div class="container">
										<img src="images/validar1.png" alt="" class="img-responsive">
									</div>
								</div>
							</div>
						</div>
						<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title color1">
									<a data-toggle="collapse" data-parent="#validacionesAll" href="#validar2">Validando regla validates :name, length: { minimum: 2 }<span class="glyphicon glyphicon-collapse-down pull-right" aria-hidden="true"></span></a>
								</h4>
							</div>
								<div class="panel-collapse collapse" id="validar2">
								<div class="panel-body">
									<div class="container">
										<img src="images/validar2.png" alt="" class="img-responsive">
									</div>
								</div>
							</div>
						</div>
						<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title color1">
									<a data-toggle="collapse" data-parent="#validacionesAll" href="#validar3">Validando la regla validates :phone, length: {in: 7..11}<span class="glyphicon glyphicon-collapse-down pull-right" aria-hidden="true"></span></a>
								</h4>
							</div>
							<div class="panel-collapse collapse" id="validar3">
								<div class="panel-body">
									<div class="container">
										<img src="images/validar3.png" alt="" class="img-responsive">
										<img src="images/validar3-1.png" alt="" class="img-responsive">
									</div>
								</div>
							</div>
						</div>
						<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title color1">
									<a data-toggle="collapse" data-parent="#validacionesAll" href="#validar4">Validando la regla validates :phone, numericality: true<span class="glyphicon glyphicon-collapse-down pull-right" aria-hidden="true"></span></a>
								</h4>
							</div>
							<div class="panel-collapse collapse" id="validar4">
								<div class="panel-body">
									<div class="container">
										<img src="images/validar4.png" alt="" class="img-responsive">
									</div>
								</div>
							</div>
						</div>
						<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title color1">
									<a data-toggle="collapse" data-parent="#validacionesAll" href="#validar5">Validando la regla validates :phone, uniqueness: true<span class="glyphicon glyphicon-collapse-down pull-right" aria-hidden="true"></span></a>
								</h4>
							</div>
							<div class="panel-collapse collapse" id="validar5">
								<div class="panel-body">
									<div class="container">
										<img src="images/validar5.png" alt="" class="img-responsive">
										<img src="images/validar5-1.png" alt="" class="img-responsive">
									</div>
								</div>
							</div>
						</div>
						<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title color1">
									<a data-toggle="collapse" data-parent="#validacionesAll" href="#validar6">Validando la regla validates :address, presence: true<span class="glyphicon glyphicon-collapse-down pull-right" aria-hidden="true"></span></a>
								</h4>
							</div>
							<div class="panel-collapse collapse" id="validar6">
								<div class="panel-body">
									<div class="container">
										<img src="images/validar6.png" alt="" class="img-responsive">
									</div>
								</div>
							</div>
						</div>
						<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title color1">
									<a data-toggle="collapse" data-parent="#validacionesAll" href="#validar7">Validando la regla  validates :city, format: { with: /\A[a-zA-Z]+\z/, message: "only allows letters" }<span class="glyphicon glyphicon-collapse-down pull-right" aria-hidden="true"></span></a>
								</h4>
							</div>
							<div class="panel-collapse collapse" id="validar7">
								<div class="panel-body">
									<div class="container">
										<img src="images/validar7.png" alt="" class="img-responsive">
									</div>
								</div>
							</div>
						</div>
						<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title color1">
									<a data-toggle="collapse" data-parent="#validacionesAll" href="#validar8"><strong>REGISTRO EXITOSO</strong><span class="glyphicon glyphicon-collapse-down pull-right" aria-hidden="true"></span></a>
								</h4>
							</div>
							<div class="panel-collapse collapse" id="validar8">
								<div class="panel-body">
									<div class="container">
										<img src="images/validar8.png" alt="" class="img-responsive">
									</div>
								</div>
							</div>
						</div>
						</div>
					</div>
					</div>
				</div>
			</div>
		</div>
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title color1 ">
					<a data-toggle="collapse" data-parent="tutorial" href="#firma">FIRMA DEL SERVIDOR PÚBLICO O CONTRATISTA<span class="glyphicon glyphicon-triangle-bottom pull-right" aria-hidden="true"></span></a>
				</h3>
			</div>
		</div>
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title color1 ">
					<a data-toggle="collapse" data-parent="tutorial" href="#observaciones">OBSERVACIONES DEL JEFE DE RECURSOS HUMANOS Y/O CONTRATOS<span class="glyphicon glyphicon-triangle-bottom pull-right" aria-hidden="true"></span></a>
				</h3>
			</div>
		</div>
	</div>
</div>
<div class="container">
	<div class="group-control col-xs-7 col-sm-4 col-md-3 col-lg-2 col-lg-offset-10 col-md-offset-9 col-sm-offset-8 col-xs-offset-5">
		<div class="text-right">
			<div class="btn btn-success btn-block btn-md">Guardar y Continuar</div>
		</div>
	</div>
</div>

<div class="container">
	<div id="" class="panel-group">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h4 class="panel-title color1">
					<a data-toggle="collapse" data-parent="#" href="#"><span class="glyphicon glyphicon-collapse-down pull-right" aria-hidden="true"></span></a>
				</h4>
			</div>
			<div class="panel-collapse collapse" id="">
				<div class="panel-body">
					<div class="container">
						
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

	<script src="js/jquery.js"></script>
	<script src="js/bootstrap.min.js"></script>
</body>
</body>
</html>